import 'package:flutter/cupertino.dart';import 'package:flutter/material.dart';import 'package:flutter_snake_navigationbar/flutter_snake_navigationbar.dart';import 'package:get/get_rx/src/rx_types/rx_types.dart';import 'package:get/get_state_manager/src/rx_flutter/rx_obx_widget.dart';import 'package:google_fonts/google_fonts.dart';import 'package:unicons/unicons.dart';import 'package:url_launcher/url_launcher.dart';import '../Sign_up_page/Sign_up_main_page.dart';import '../Sign_up_page/text_Field.dart';import '../favorite_page/NavigationBar_Container_favorit.dart';import '../landing/button.dart';import '../profile_page/blue_logo.dart';import '../profile_page/image_name.dart';import '../profile_page/profile_button.dart';import 'package:whatsapp/whatsapp.dart';Whatsapp whatsapp = Whatsapp();class whatsapp_main_page extends StatefulWidget {  const whatsapp_main_page({Key? key, required this.text}) : super(key: key);  final String text;  @override  State<whatsapp_main_page> createState() => _whatsapp_main_pageState(text);}class _whatsapp_main_pageState extends State<whatsapp_main_page> {  final String text;  final TextEditingController Phone_number = TextEditingController();  final TextEditingController location = TextEditingController();  static final RxString typed_Phone_number = ''.obs;  static final RxString typed_location = ''.obs;  _whatsapp_main_pageState(this.text);  Widget build(BuildContext context) {    return Scaffold(      backgroundColor: Colors.white,      body: SafeArea(        child: SingleChildScrollView(            child: Column(                mainAxisAlignment: MainAxisAlignment.start,                crossAxisAlignment: CrossAxisAlignment.center,                children: [              Hoomy_logo_blue(onPressed: () {                Navigator.of(context).pop();              }),              Padding(                padding: const EdgeInsets.only(top: 20),                child: Text(                  "لتأكيد عملية الشراء",                  textDirection: TextDirection.rtl,                  style: TextStyle(fontSize: 30),                ),              ),              Padding(                padding: const EdgeInsets.only(bottom: 10),                child: Text(                  "أملئ البيانات التالية:",                  textDirection: TextDirection.rtl,                  style: TextStyle(fontSize: 25),                ),              ),              Obx(() {                return Text_Field1(                  keyboardType: TextInputType.phone,                  MyController: Phone_number,                  onChanged: (text) {                    typed_Phone_number.value = text;                    print(text);                  },                  hintText: 'رقم الهاتف :'.obs,                  icon: Icon((Icons.phone),                      color: typed_Phone_number.value.isEmpty                          ? Colors.black38                          : Color(0xff45B9EE)),                  labelText: ''.obs,                  pass: false,                );              }),              Obx(() {                return Text_Field1(                  keyboardType: TextInputType.streetAddress,                  MyController: location,                  onChanged: (text) {                    typed_location.value = text;                    print(text);                  },                  hintText: 'العنوان او أقرب نقطة دالة:'.obs,                  icon: Icon((Icons.location_on),                      color: typed_location.value.isEmpty                          ? Colors.black38                          : Color(0xff45B9EE)),                  labelText: ''.obs,                  pass: false,                );              }),              Image.asset(                "photo/Messeng.png",                height: 300,                width: 300,              ),              Container(                  width: 337,                  height: 50,                  child: RawMaterialButton(                    onPressed: () {                      print(text);                      openWhatsappChat(text);                                         //     accessToken: "your_access_token_here",                      //     fromNumberId: int.parse(Phone_number.text)//integer                      // );                      // whatsapp.messagesTemplate(                      //     to: int.parse(Phone_number.text), // number with country code (without +),                      //     templateName: "hello_world" //template name                      // whatsapp.short(                      //     to: Phone_number,                      //     message: "Hey",                      //     compress: true                      // );                    },                    fillColor: Color.fromRGBO(69, 185, 238, 1),                    shape: RoundedRectangleBorder(                        borderRadius: BorderRadius.circular(18)),                    child: Padding(                      padding: const EdgeInsets.only(top: 5),                      child: Text(                        textDirection: TextDirection.rtl,                        "أرسال عبر Whatsapp",                        style: GoogleFonts.inter(                            fontSize: 20,                            color: Colors.white,                            fontWeight: FontWeight.w700),                      ),                    ),                  ))            ])),      ),        bottomNavigationBar: NavigationBar_favorite()    );  }  void openWhatsappChat(String text)async{    String phone='07718596760'; // await launch('https://wa.me/07777?');  var url = "https://wa.me/$phone?$text";  if (await canLaunch(url)) {    await launch(url);  } else {    throw "Could not launch $url";  }   }}